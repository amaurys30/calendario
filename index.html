<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendario</title>
    <link rel="stylesheet" href="css/estilos.css">
    <script src="js/utilidades.js"></script>
    <script src="js/gestionevento.js"></script>

    <script>
        function eliminarDiv() {
            // Obtener el div principal
            var divPrincipal = document.getElementById("divPrincipal")
            // Buscar y eliminar el div existente si est치 presente
            var divExistente = document.getElementById("nuevoDivId");
            if (divExistente) {
                divPrincipal.removeChild(divExistente);
            }
        }

        function seleccionMes() {
            var seleccion = document.getElementById("mes").value
            if (seleccion === "enero") {
                eliminarDiv()
                crearEnero();
            } else if (seleccion == "febrero") {
                eliminarDiv()
                crearFebrero()
            } else if (seleccion == "marzo") {
                eliminarDiv()
                crearMarzo()
            } else if (seleccion == "abril") {
                eliminarDiv()
                crearAbril()
            } else if (seleccion == "mayo") {
                eliminarDiv()
                crearMayo()
            } else if (seleccion == "junio") {
                eliminarDiv()
                crearJunio()
            } else if (seleccion == "julio") {
                eliminarDiv()
                crearJulio()
            } else if (seleccion == "agosto") {
                eliminarDiv()
                crearAgosto()
            } else if (seleccion == "septiembre") {
                eliminarDiv()
                crearSeptiembre()
            } else if (seleccion == "octubre") {
                eliminarDiv()
                crearOctubre()
            } else if (seleccion == "noviembre") {
                eliminarDiv()
                crearNoviembre()
            } else if (seleccion == "diciembre") {
                eliminarDiv()
                crearDiciembre()
            } else {
                eliminarDiv()
                crearJunio()
            }

        }

        function seleccionCambio() {
            var seleccion = document.getElementById("fecha").value;
            if (seleccion === "dia") {
                eliminarDiv()
                crearDias()
            } else if (seleccion === "mes") {
                eliminarDiv()
                seleccionMes()
            } else if (seleccion === "anio") {
                eliminarDiv()
                crearAnio()
            } else {
                eliminarDiv()
                seleccionMes()
            }
        }

    </script>
</head>

<body>

    <script>
        // Ejecuta la funci칩n al cargar la p치gina
        window.onload = seleccionMes
        window.onload = crearJunio

        var eventos = JSON.parse(localStorage.getItem("eventos") || "[]")
        var fechasHoras = []

        for (let i = 0; i < eventos.length; i++) {
            fechasHoras.push(eventos[i].fechaHora)
        }
        
    </script>

    <div class="gridContenedor" id="divPrincipal">

        <div class="divMenu">
            <img src="recursos/imagenes/calendario.png" alt="">
            <h1>Calendario 2024</h1>
            <!-- <button>Hoy</button> -->
            <h2 id="textMes" class="mesSeleccionado">Junio</h2>
            <div class="divSeleccion">
                <label for="fecha">Seleccionar Vista:</label>
                <select id="fecha" name="fecha" onchange="seleccionCambio()">
                    <option value="mes">Mes</option>
                    <option value="dia">Dia</option>
                    <option value="anio">A침o</option>
                </select>
            </div>

            <div class="divSeleccion">
                <label for="mes">Seleccionar Mes:</label>
                <select id="mes" name="mes" onchange="seleccionMes()">
                    <option onclick="eliminarDiv(), crearEnero()" value="enero">Enero</option>
                    <option onclick="eliminarDiv(), crearFebrero()" value="febrero">Febrero</option>
                    <option onclick="eliminarDiv(), crearMarzo()" value="marzo">Marzo</option>
                    <option onclick="eliminarDiv(), crearAbril()" value="abril">Abril</option>
                    <option onclick="eliminarDiv(), crearMayo()" value="mayo">Mayo</option>
                    <option onclick="eliminarDiv(), crearJunio()" value="junio">Junio</option>
                    <option onclick="eliminarDiv(), crearJulio()" value="julio">Julio</option>
                    <option onclick="eliminarDiv(), crearAgosto()" value="agosto">Agosto</option>
                    <option onclick="eliminarDiv(), crearSeptiembre()" value="septiembre">Septiembre</option>
                    <option onclick="eliminarDiv(), crearOctubre()" value="octubre">Octubre</option>
                    <option onclick="eliminarDiv(), crearNoviembre()" value="noviembre">Noviembre</option>
                    <option onclick="eliminarDiv(), crearDiciembre()" value="diciembre">Diciembre</option>

                </select>
            </div>


        </div>

        <div class="divEvento">
            <button onclick="window.location.href='html/gestioneventos.html'">Crear evento</button>
            <button onclick="listarEventos()">Ver eventos </button>
            <div class="divListaEvento">
                <ol id="listarEventos"></ol>
            </div>

        </div>

    </div>


</body>

</html>